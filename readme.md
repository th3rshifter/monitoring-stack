# Screenshots of monitoring & audit stack

<p align="center">
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/1.jpg" width="24%" />
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/2.jpg" width="24%" />
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/3.jpg" width="24%" />
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/4.jpg" width="24%" />
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/5.jpg" width="24%" />
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/6.jpg" width="24%" />
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/7.jpg" width="24%" />
  <img src="https://raw.githubusercontent.com/th3rshifter/monitoring-stack/main/audit-api/8.png" width="24%" />
</p>


======
## ðŸ§± Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ð¹ ÑÑ‚ÑÐº

### ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¸ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
- Linux (Ubuntu Server)
- Docker (Compose)

### Ð‘Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- PostgreSQL â€” Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹, Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð² Ð°ÑƒÐ´Ð¸Ñ‚Ð°

### ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð¾Ð¿Ð¾Ð²ÐµÑ‰ÐµÐ½Ð¸Ñ
- Prometheus â€” ÑÐ±Ð¾Ñ€ Ð¸ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ‚Ñ€Ð¸Ðº
- Alertmanager â€” Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¸ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð°Ð»ÐµÑ€Ñ‚Ð¾Ð²
- Grafana â€” Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¼ÐµÑ‚Ñ€Ð¸Ðº Ð¸ Ð»Ð¾Ð³Ð¾Ð²
- Node Exporter â€” ÑÐ±Ð¾Ñ€ Ð¼ÐµÑ‚Ñ€Ð¸Ðº ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²
- cAdvisor â€” Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Docker-ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²

### Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- Loki â€” Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸ Ð°Ð³Ñ€ÐµÐ³Ð°Ñ†Ð¸Ñ Ð»Ð¾Ð³Ð¾Ð²
- Promtail â€” ÑÐ±Ð¾Ñ€ Ð»Ð¾Ð³Ð¾Ð² Ñ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð² Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²

### Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸ ÑÐµÑ‚Ð¸
- Fail2Ban â€” ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ (Ð¿Ð¾Ð´Ð±Ð¾Ñ€ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹, Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸)
- Xray / X-UI â€” ÑÐµÑ‚ÐµÐ²Ñ‹Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¸ Ð»Ð¾Ð³Ð¸ ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²

---

## âš™ Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð¸ Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ

### Backend-Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€Ðº
- FastAPI â€” REST API Ð¸ Web-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ð°ÑƒÐ´Ð¸Ñ‚Ð° Ð¸ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð¾Ð²
- Uvicorn â€” ASGI-ÑÐµÑ€Ð²ÐµÑ€

### Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- SQLAlchemy (async) â€” Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ PostgreSQL
- asyncpg â€” Ð´Ñ€Ð°Ð¹Ð²ÐµÑ€ PostgreSQL

### Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸
- Pydantic v2 â€” Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… (Alertmanager, ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ)

### HTTP-Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸
- httpx â€” Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ðµ HTTP-Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Prometheus Ð¸ Loki

### Ð¨Ð°Ð±Ð»Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ UI
- Jinja2 â€” ÑÐµÑ€Ð²ÐµÑ€Ð½Ñ‹Ð¹ Ñ€ÐµÐ½Ð´ÐµÑ€Ð¸Ð½Ð³ HTML-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°

### Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð²
- Pandas â€” Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð²
- OpenPyXL â€” ÑÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð² Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Excel (XLSX)

---

## ðŸ§© Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ð¸ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ Python
- asyncio â€” Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ
- datetime â€” Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ð°Ð¼Ð¸ Ð¸ Ð¼ÐµÑ‚ÐºÐ°Ð¼Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
- dataclasses â€” Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€ UI
- contextlib â€” ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¶Ð¸Ð·Ð½ÐµÐ½Ð½Ñ‹Ð¼ Ñ†Ð¸ÐºÐ»Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- io â€” Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸
- json, os, typing, urllib.parse



Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð° Ð´Ð»Ñ:
- Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ ÑÐ±Ð¾Ñ€Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð¸ Ð»Ð¾Ð³Ð¾Ð² Ð˜Ð¢-Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹;
- Ð°Ð³Ñ€ÐµÐ³Ð°Ñ†Ð¸Ð¸ Ð¸ ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ð¸ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð¾Ð²;
- Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð¾Ð² (Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸, Ð»Ð¾Ð³Ð¸);
- Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð°ÑƒÐ´Ð¸Ñ‚Ð° Ð¸ Ñ€Ð°ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð¾Ð².
- ÑƒÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð· Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð°.

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ñ†Ð¸ÐºÐ» Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð°:  
**ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ñ Ð˜Ð¡ -> Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ -> ÐºÐ¾Ñ€Ñ€ÐµÐ»ÑÑ†Ð¸Ñ -> Ð°Ð½Ð°Ð»Ð¸Ð· -> Ð¾Ñ‚Ñ‡Ñ‘Ñ‚**.

---

## ðŸ”„ Ð›Ð¾Ð³Ð¸ÐºÐ° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð°

1. Prometheus Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐµÑ‚ Ð°Ð½Ð¾Ð¼Ð°Ð»Ð¸ÑŽ (CPU, Ð¿Ð°Ð¼ÑÑ‚ÑŒ, Ð´Ð¸ÑÐº, Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ ÑƒÐ·Ð»Ð° Ð¸ Ñ‚.Ð´.).
2. Alertmanager Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ ÐµÐ³Ð¾ Ð² Audit API.
3. Audit API:
   - ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ;
   - Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚ (incident_key - Ð½Ð¾Ð¼ÐµÑ€ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ð°);
   - ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð·Ð° Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ðµ Ð¾ÐºÐ½Ð¾ (1Ñ‡);
   - ÑÐ²ÑÐ·Ñ‹Ð²Ð°ÐµÑ‚ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¸ Ð»Ð¾Ð³Ð¸;
   - Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð¿Ð¾ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ñƒ.
4. Ð˜Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½:
   - Ñ‡ÐµÑ€ÐµÐ· Web-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ;
   - Ð² Ð²Ð¸Ð´Ðµ JSON;
   - Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ Markdown;
   - Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ Excel (XLSX).
>>>>>>> 03b02cd3eae91464fefe77d37a0fc9d8053a634c
